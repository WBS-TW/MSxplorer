TODO


//MDPlotR//
- ADD: remainder calculation? Use Rxx as input keytext for remainder calculation.
- ADD: Kendrick-Analogous Mass Difference Networks. https://pubs.acs.org/doi/full/10.1021/acs.est.1c08143

Check:  
Mass-Remainder Analysis (MARA): a New Data Mining Tool for Copolymer Characterization. https://pubs.acs.org/doi/10.1021/acs.analchem.7b04730
- MARA:https://pubs.acs.org/doi/10.1021/acs.analchem.8b04976 , check the SI excel
- M-MARA: https://www.mdpi.com/2073-4360/12/12/2768/htm
- Mass Spectral Filtering by Mass-Remainder Analysis (MARA) at High Resolution and Its Application to Metabolite Profiling of Flavonoids

MR3 = [(m/z MOD R1) MOD R2] MOD R3 
where the modulo (MOD) operation finds the mass remainder (MRn) after the division by Rn (n = 1, 2, 3). In order to eliminate the periodicities generated by the repeat units EO (i.e., C2H4O = 44.02622 Da) and PO (i.e., C3H6O = 58.04187 Da), R1 = 58.04187, R2 = 1.979265, and R3 = 0.160795 were chosen for the MARA base units corresponding to the masses of PO, 4×EO-3×PO, and 22 × PO-29 × EO, respectively.

Fouguet:  https://analyticalsciencejournals.onlinelibrary.wiley.com/doi/10.1002/jms.3963,
                        https://pubs.acs.org/doi/10.1021/acs.analchem.7b04518

MzMine MD: https://pubs.acs.org/doi/10.1021/acs.analchem.9b03863
https://pubs.acs.org/na101/home/literatum/publisher/achs/journals/content/ancham/2020/ancham.2020.92.issue-1/acs.analchem.9b03863/20191230/images/large/ac9b03863_0003.jpeg
      
           

- Manual: write that only 6 decimals are used in MD calculations here.
- FAIR: output the calculation for the first m/z for transparency of the MD calculations and for educational purposes.




//------------------------------------------------------------------------------------//

//find_homolog//
- Change: use a shiny interface and select input file and arguments
- ADD: argument to state whether input rt is in minutes or seconds, to convert if rt is in seconds 

Citations: https://pubs.acs.org/doi/10.1021/ac60206a048


//plotEIC/plotTopMS1Peaks/plotTopMS2Peaks//

- Add another button to send selected fragments to Metfrag OR copy the fragments in format to directly copy to Metfrag.
- Find way to extract MS1 peaks in spectrum and calculate Pearson correlation or cosine score with MS2 diagnostic ions within a selected time window. 
- Add average MS1 and MS2 spectra of selected rt range
- Add textOutput to display the calculated mz diff and error?
- Add a checkbox/inputmenu option to do smoothing
- Add function to omit deselected m/z trace. Then another press on Get MS1 would find new highest ions without these delected m/z.

- Find MS1 or MS2 based on correlation within rt range instead of intensity
- Whenever a trace (EIC) is deleted then another one appear as replacement -> iterative selection -> low abundance ions can be visible to correlate with chosen ions.


CHECK
- Theoretical formulas for 98.9552,(FSO3) and 79.9558 (SO3). Use: https://www.chemcalc.org/mf-finder. Range: C0-10 H0-20 N0-2 O0-5 Si0-3 F0-6 S0-2


//ExportMSP//
- Change to input file; excel or csv with variables (MS DIAL format): Num, RT (min)
- Update the calculation based on the input number of carbons


//Geomviolin plot//
Add a new function to plot the geomviolin plot of xcmsExp object



----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
20210727 ADDED MDPlotR: Add a selection to choose which column to be "intensity". Can be beneficial for isotope plot since not all samples have the isotopes.
FIXED PlotEIC: Only top "n"" hits will be shown.
FIXED PlotEIC: Sync the two plots at x-axis (same retention time scale during zooming). Put sync buttons on left panel to sync either first or second plots.
FIXED: Add selection to choose round, ceiling, floor
